<!-- snippets/component__search-item.liquid -->
{% comment %} 
  Thumbnail grid item to display search results.

  Accepts:
    - item: {Object} Liquid object for search item
  
  Globals:
    - product_card_color_scheme: {string} Class string to set color scheme of the product card.
    - product_card_color_border: {string} Class string to set border color of the product card.
    - product_card_alignment: {string} Class string to set alignment of the product card.

  Usage:
    {% render 'component__search-item', 
      item: item %}
  
  Recommendations:
    - This snippet will display different snippets depending on the type of search result. For example if it's a product item we'll show a product thumbnail.
{% endcomment %}

{% if item.object_type == 'product' %}
  {% render 'component__product-grid', 
    product: item, 
    source: 'sr-item' 
  %}  

{% elsif item.object_type == 'article' %}
  {% capture article_excerpt %}
    {{ item.excerpt_or_content | strip_html | truncate: 200 }}
  {% endcapture %}
  {% render 'component__content-item',
    heading: item.title,
    content: article_excerpt,
    url: item.url,
    image: item.image,
    image_background: '',
    video: '',
    enable_autoplay: false,
    enable_mute_toggle: false,
    enable_loop: false,
    color_scheme: settings.product_card_color_scheme,
    color_border: settings.product_card_color_border,
    color_text: '',
    color_button: '',
    enable_image_crop: true,
    enable_gradient: false,
    spacing_top: '',
    spacing_bottom: '',
    spacing_minium_height: '',
    enable_padding: true,
    layout_col_span_desktop: '',
    layout_col_span_mobile: '' ,
    layout_row_span_desktop: '',
    layout_row_span_mobile: '',
    layout_y_alignment: '',
    layout_x_alignment: settings.product_card_alignment
  %}

{% elsif item.object_type == 'page' %}
  {% capture page_excerpt %}
    {{ item.content | strip_html | truncate: 200 }}
  {% endcapture %}
  {% render 'component__content-item',
    heading: item.title,
    content: page_excerpt,
    url: item.url,
    image: item.image,
    image_background: '',
    video: '',
    enable_autoplay: false,
    enable_mute_toggle: false,
    enable_loop: false,
    color_scheme: settings.product_card_color_scheme,
    color_border: settings.product_card_color_border,
    color_text: '',
    color_button: '',
    enable_gradient: false,
    spacing_top: '',
    spacing_bottom: '',
    spacing_minium_height: '',
    enable_padding: true,
    layout_col_span_desktop: '',
    layout_col_span_mobile: '' ,
    layout_row_span_desktop: '',
    layout_row_span_mobile: '',
    layout_y_alignment: '',
    layout_x_alignment: settings.product_card_alignment
  %}

{% endif %}